(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),s=a(17),o=a(158),l=a(159),u=a(153),d=a(163),p=a(157),j=a(19),b=a(156),f=a(150),m=a(152),h=a(161),x=a(154),g=a(155),O=a(73),v=a.n(O),y=a(74),C=a.n(y),w=a(72),k=a.n(w),N=a(70),I=a.n(N),E=a(13),S=a.n(E),z=a(23),B="FETCH_ALL",D="CREATE",T="UPDATE",_="LIKE",L="DELETE",W="DELETE_ALL",A=a(28),F=a.n(A),M="https://memorabilia-project-server.herokuapp.com/posts",q=function(e){return F.a.patch("".concat(M,"/").concat(e,"/likePost"))},R=function(e,t){return F.a.patch("".concat(M,"/").concat(e),t)},H=function(e){return F.a.delete("".concat(M,"/").concat(e))},J=function(e){return function(){var t=Object(z.a)(S.a.mark((function t(a){var n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,F.a.post(M,c);case 3:n=t.sent,r=n.data,a({type:D,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e,t){return function(){var a=Object(z.a)(S.a.mark((function a(n){var r,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R(e,t);case 3:r=a.sent,c=r.data,n({type:T,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},K=a(147),U=Object(K.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),V=a(4),X=function(e){var t=e.post,a=e.setCurrentId,n=Object(j.b)(),r=U();return Object(V.jsxs)(f.a,{className:r.card,children:[Object(V.jsx)(m.a,{className:r.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.title}),Object(V.jsxs)("div",{className:r.overlay,children:[Object(V.jsx)(u.a,{variant:"h6",children:t.creator}),Object(V.jsx)(u.a,{variant:"body2",children:I()(t.createdAt).fromNow()})]}),Object(V.jsx)("div",{className:r.overlay2,children:Object(V.jsx)(h.a,{style:{color:"white"},size:"small",onClick:function(){return a(t._id)},children:Object(V.jsx)(k.a,{fontSize:"default"})})}),Object(V.jsx)("div",{className:r.details,children:Object(V.jsx)(u.a,{variant:"body2",color:"textSecondary",component:"h2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(V.jsx)(u.a,{className:r.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(V.jsx)(x.a,{children:Object(V.jsx)(u.a,{variant:"body2",color:"textSecondary",component:"p",children:t.message})}),Object(V.jsxs)(g.a,{className:r.cardActions,children:[Object(V.jsxs)(h.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(z.a)(S.a.mark((function t(a){var n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(e);case 3:n=t.sent,r=n.data,a({type:_,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(V.jsx)(v.a,{fontSize:"small"})," Like ",t.likeCount," "]}),Object(V.jsxs)(h.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(z.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H(e);case 3:a({type:L,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(V.jsx)(C.a,{fontSize:"small"})," Delete"]})]})]})},G=Object(K.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),Q=function(e){var t=e.setCurrentId,a=Object(j.c)((function(e){return e.posts})),n=G();return a.length?Object(V.jsx)(p.a,{className:n.container,container:!0,alignItems:"stretch",spacing:3,children:a.map((function(e){return Object(V.jsx)(p.a,{item:!0,xs:12,sm:6,md:6,children:Object(V.jsx)(X,{post:e,setCurrentId:t})},e._id)}))}):Object(V.jsx)(b.a,{})},Y=a(20),Z=a(162),$=a(78),ee=a(160),te=a(75),ae=a.n(te),ne=a(11),re=Object(K.a)((function(e){var t;return t={root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)}},Object(ne.a)(t,e.breakpoints.down("xs"),{paper:{padding:e.spacing(2),width:"137%",position:"absolute",top:"-30px",left:"-50px"}}),Object(ne.a)(t,"form",{display:"flex",flexWrap:"wrap",justifyContent:"center"}),Object(ne.a)(t,"fileInput",{width:"97%",margin:"10px 0"}),Object(ne.a)(t,"buttonSubmit",{marginBottom:10}),Object(ne.a)(t,"closeButton",{padding:0,margin:0,float:"right",minWidth:0}),Object(ne.a)(t,"modalButton",{fontSize:36}),t}));function ce(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ie=function(e){var t=e.currentId,a=e.setCurrentId,c=Object(n.useState)({creator:"",title:"",message:"",tags:"",selectedFile:""}),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(j.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),p=Object(j.b)(),b=re(),f=r.a.useState(ce),m=Object(s.a)(f,1)[0],x=r.a.useState(!1),g=Object(s.a)(x,2),O=g[0],v=g[1];Object(n.useEffect)((function(){d&&l(d)}),[d]);var y=function(){a(0),l({creator:"",title:"",message:"",tags:"",selectedFile:""})},C=function(){var e=Object(z.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),0===t?""===o.creator||""===o.title||""===o.message?alert("Creator, Title and Message fields are required"):(p(J(o)),y()):(p(P(t,o)),y()),w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){v(!1)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(h.a,{className:b.modalButton,variant:"outlined",color:"secondary",size:"large",onClick:function(){v(!0)},children:"Create Nostalgia"}),Object(V.jsx)(Z.a,{style:m,open:O,onClose:w,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(V.jsxs)($.a,{className:b.paper,children:[" ",Object(V.jsx)(h.a,{className:b.closeButton,onClick:w,children:"X"}),Object(V.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(b.root," ").concat(b.form),onSubmit:C,children:[Object(V.jsx)(u.a,{variant:"h6",children:t?'Editing "'.concat(d.title,'"'):"Creating Nostalgia"}),Object(V.jsx)(ee.a,{required:!0,name:"creator",variant:"outlined",label:"Creator",fullWidth:!0,value:o.creator,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{creator:e.target.value}))}}),Object(V.jsx)(ee.a,{required:!0,name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:o.title,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{title:e.target.value}))}}),Object(V.jsx)(ee.a,{required:!0,name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:o.message,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{message:e.target.value}))}}),Object(V.jsx)(ee.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:o.tags,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{tags:e.target.value.split(",")}))}}),Object(V.jsx)("div",{className:b.fileInput,children:Object(V.jsx)(ae.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(Y.a)(Object(Y.a)({},o),{},{selectedFile:t}))}})}),Object(V.jsx)(h.a,{className:b.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(V.jsx)(h.a,{variant:"contained",color:"secondary",size:"small",onClick:y,fullWidth:!0,children:"Clear"})]})]})})]})},se=Object(K.a)((function(e){return Object(ne.a)({appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255,255,255,.07)"},heading:{color:"rgba(0,183,255,1)"},image:{marginLeft:"25px"}},e.breakpoints.down("xs"),{mainContainer:{flexDirection:"column-reverse"}})})),oe=a.p+"static/media/memorabilia.9475b65f.jpeg",le=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(j.b)(),i=se();return Object(n.useEffect)((function(){c(function(){var e=Object(z.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(M);case 3:a=e.sent,n=a.data,t({type:B,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a,c]),Object(V.jsxs)(o.a,{maxWidth:"lg",children:[Object(V.jsxs)(l.a,{className:i.appBar,position:"static",color:"inherit",children:[Object(V.jsx)(u.a,{className:i.heading,variant:"h2",align:"center",children:"Melancholia"}),Object(V.jsx)("img",{className:i.image,src:oe,alt:"icon",height:"60"})]}),Object(V.jsx)(d.a,{in:!0,children:Object(V.jsx)(o.a,{children:Object(V.jsxs)(p.a,{className:i.mainContainer,container:!0,justify:"space-between",alignItems:"stretch",spacing:3,children:[Object(V.jsx)(p.a,{item:!0,xs:12,sm:7,children:Object(V.jsx)(Q,{setCurrentId:r})}),Object(V.jsx)(p.a,{item:!0,xs:12,sm:4,children:Object(V.jsx)(ie,{currentId:a,setCurrentId:r})})]})})})]})},ue=a(24),de=a(76),pe=a(22),je=Object(ue.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.payload;case D:return[].concat(Object(pe.a)(e),[t.payload]);case T:case _:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case L:return e.filter((function(e){return e._id!==t.payload}));case W:return[];default:return e}}}),be=(a(117),Object(ue.e)(je,Object(ue.d)(Object(ue.a)(de.a))));i.a.render(Object(V.jsx)(j.a,{store:be,children:Object(V.jsx)(le,{})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.1c674580.chunk.js.map